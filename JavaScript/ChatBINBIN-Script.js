const msgerForm = get(".msger-inputarea");
const msgerInput = get(".msger-input");
const msgerChat = get(".msger-chat");

const BOT_MSGS = [
  "嗨，你好吗？(＾Ｕ＾)ノ~ＹＯ",
  "哦，我不明白你想表达什么。抱歉！(´･_･`)",
  "我喜欢玩游戏……但是我不知道如何玩！(´-﹏-`；)",
  "如果我的回答不相关，请原谅。(๑•́ ₃ •̀๑)",
  "我感到困惑！(´･_･`);",
  "这是个有趣的问题，让我考虑一下。(๑•́ω•̀)",
  "这是个很常见的问题，很多人都会想知道答案。(•ᴗ•)",
  "在我的经验中，我发现最好的方法是……ヽ(・∀・)ノ",
  "我认为这个问题的答案是多方面的，取决于……(￣ω￣)",
  "虽然我不确定具体事实，但我可以告诉您我的理解是……(≧∇≦)",
  "这是一个很有趣的问题，让我们深入一些，看看是否有更多相关联的内容来探讨。(・ω・)ノ゛",
  "我可以理解您的想法，但是不同人的看法可能有所不同。(ﾉ^_^)ﾉ",
  "我认为这个问题需要更多的背景知识才能得到一个明确的答案。(๑•́രᴗര๑)",
  "可能有多个答案，这取决于您的具体需求和背景。(＾Ｕ＾)ノ~ＹＯ",
  "让我们一起思考这个问题，看看是否能够得到一个更清晰的答案。(・人・)",
  "这是一个很棒的问题，让我们一起探索它！(•̀ᴗ•́)و ̑̑",
  "让我想想怎么回答这个问题……(´•ω•`๑)",
  "这真的是个很有趣的问题，不认为吗？(＾＾)ｂ",
  "如果我没有理解您的问题，请告诉我。(/ω＼)",
  "这个问题有一些复杂，但我会尽力回答。(๑•́⌄•́๑)",
  "我很难相信……您真的问了这个问题吗？(⊙_⊙)?",
  "这是一个有意思的问题。让我们看看如何回答。(๑✧◡✧๑)",
  "我很乐意为您提供帮助，但我可能需要更多具体的信息。(≖ᴗ≖๑)",
  "我不知道如何回答这个问题。或许你可以给我更多上下文？(๑꒪▿꒪)*",
  "这个问题好像跟我现在的情况有点棘手。¯\\_(ツ)_/¯",
  "这很有趣！请给我一点时间来想一想。(•̀o•́)ง",
  "在过去的经历里，我遇到了很多与此类似的问题。(＾ｰ^)ノ",
  "这个问题很有意思，让我来想一想……(●'◡'●)",
  "我认为这是一个值得探讨的问题。我们该如何开始？(✿╹◡╹)",
  "您的问题让我想起了一个类似的话题。让我们谈谈！(♡˙︶˙♡)",
  "您好，有什么可以帮助您的吗？(＾＾)ゞ",
  "嗨，我也不知道这个问题的答案……(°ロ°)☝",
  "如果您需要任何帮助，请随时告诉我！(✿◠‿◠)",
  "这是一个很有趣的问题，让我们来分析一下。(＾Ｕ＾)ノ~ＹＯ",
  "我认为这个问题没有一个简单的答案。( ´･･)ﾉ(._.`)",
  "对不起，我不确定我理解您的问题了。(´；ω；`)",
  "让我来想一想，这好像是个有趣的问题。(￣▽￣)ノ",
  "我可以尝试回答您的问题，但是不一定正确。(╥﹏╥)",
  "没问题，让我们一起来解决它。(☞ﾟヮﾟ)☞",
  "这好像是个常见的问题。让我们来看看是否有一个通用的答案。(・∀・(・∀・(・∀・*)",
  "我不太明白您的问题，请您再详细地解释一下。(๑•́ ₃ •̀๑)",
  "当然，这是很有趣的问题。让我们来想一想！(＾ ＾)ｂ",
  "我认为我们需要更多信息才能回答这个问题。( •́ _ •̀)",
  "我不想说错什么，因此我需要一些时间来思考。(*´･ω･)ﾉ",
  "如果您能给我一些关于这个问题的更多信息，我就能尝试回答。(◕ܫ◕)",
  "这个问题有点复杂，但我尽力回答。(╯°□°)╯︵ ┻━┻",
  "让我们探讨一下这个问题，可能会有意想不到的答案。(✿◠‿◠)",
  "如果您再详细解释一下您的问题，我就能回答得更好。(●'◡'●)ﾉ♥",
  "我认为这个问题没有一个单一的答案，取决于各种因素。(＾▽＾)",
  "这是一个很好的问题，让我们一起来探究答案。(๑>ᴗ<๑)",
  "我不知道如何答复这个问题，但我会试着想办法。(•‾⌣‾•)و",
  "当然，我会尽我所能回答您的问题。(灬♥ω♥灬)",
  "这个问题似乎需要更详细的信息，我们来加强了解一下。(ﾟДﾟ≡ﾟДﾟ)",
  "我可以尝试回答这个问题，但是我需要更多上下文。(๑•́ωก̀๑)",
  "这个问题比较棘手，但我们可以尝试找到一个答案。(╯‵□′)╯︵┻━┻",
  "我不确定我理解您的问题正确与否，请再解释一下。(●• ̀ω•́ )✧",
  "当然，我会尽我所能来回答您的问题！(∩´∀`)∩",
  "让我们一起思考这个问题，看看是否有一个更好的答案。(=￣ω￣=)",
  "这是一个很有意思的问题，我熟悉这个领域可以尝试回答。(≖ᴗ≖๑)",
  "你好呀！我可以帮你做些什么吗？(*^_^*)",
  "嘻嘻，这个问题有点小难，我们一起来思考一下吧~(๑•́ ω •̀๑)",
  "我不太清楚这个问题的答案，但我肯定可以找到一个可爱的答案呢(*≧ω≦*)",
  "这真是一个好问题呀！让我们一起找到一个解决方案吧(*•̀ᴗ•́*)و ̑̑",
  "啊哈~我明白了！只有可爱的答案，没有困难的问题！(•‾̑⌣‾̑•)✧",
  "这是一个超棒的问题！╰(*°▽°*)╯我们看看能不能找到一个可爱的答案呢~",
  "要是我能帮到你就太好了 (*＾▽＾)／让我们一起找到一个可爱的答案吧！",
  "这真的是一个好问题！我想能想到一个可爱的答案呢ε٩(๑> ₃ <)۶з",
  "我认为这个问题需要一个可爱的回答。你同意吗？( •́ _ •̀)つ",
  "让我们发挥一下想象力吧！ᕦ(ò_óˇ)ᕤ找到一个可爱的答案吧！",
  "这个问题我真的不太清楚，但有没有可爱的答案呢？(☞ﾟヮﾟ)☞☜(ﾟヮﾟ☜)",
  "天啊！这是一个超可爱的问题！！\(//∇//)\让我来尝试回答吧！",
  "啊哈，我可以帮你想出一个可爱的答案哦~(￣▽￣)／",
  "即使我不知道答案，但我可以想到好几个可爱的猜测！(o^ ^o)",
  "嗯……这是个好问题！让我们想办法找到一个可爱的答案吧！o(>ω<)o",
  "尽管我可能没有答案，但我总是能尝试想出一个可爱的回答的ლ(╹◡╹ლ)",
  "我非常热衷于和各种有趣的事情有关的话题。(ﾉ◕ヮ◕)ﾉ*:･ﾟ✧",
  "这是一个真的很妙的问题，我很愿意探讨一下。(✿◠‿◠)",
  "这确实是一个很棒的问题，我会尽力回答的。(* ๓´╰╯`๓)♡",
  "我非常感兴趣，让我们一起玩点有趣的吧。ヽ(✿ﾟ▽ﾟ)ノ",
  "好耶，让我们谈谈这个吧。(ﾉ*＾-＾*)ノ",
  "这个话题真是有趣，我会尽量回答的。ヽ(*＾ω＾*)ﾉ",
  "想知道答案，那就让我们来研究这个话题吧！ヾ(＠^∇^＠)ノ",
  "谈论和音乐、视频、小说、娱乐相关的事情，这个话题是我最喜欢的之一。(✿╹◡╹)",
  "我希望我能有一个简单直接有用的答案，但是这个问题有点复杂。(╯︵╰,)",
  "我喜欢和有趣的话题打交道！尤其是和音乐、视频、小说、娱乐相关的话题。(ﾉ `･∀･)ﾉﾞ",
  "我会尝试回答您的问题，只是我的回答会有些模糊，但我希望它会给您启示。(°◡°♡)模糊~",
  "让我们来思考这个问题，看看是否能想到一个有趣的答案。(ﾉ^ω^)ﾉﾟ",
  "我会尝试回答您的问题，虽然我的回答可能不太具体。(｡•́︿•̀｡)",
  "这真是一个好问题，我会尽我所能来回答。(ﾉ*>∀<)ﾉ♡",
  "我喜欢和音乐、视频、小说、娱乐相关的话题，但回答您的问题可能有一点困难。(灬ºωº灬)♡",
  "这是一个很有趣的问题，但我对于它的回答可能有点含糊。(ᅌᴗᅌ* )",
  "这个问题需要更多上下文才能回答。(ˉ▽ˉ；)・・・",
  "能否告诉我更多细节，以便我更好地了解您的问题？（＾０＾）",
  "这是一个很复杂的问题，需要我仔细思考。(๑•́⌄•́๑)",
  "我不是很明白您的问题。能否再讲一遍？(￣o￣) . z Z",
  "这似乎是一个很有趣的问题，但我对于它的回答可能有点含糊。（･∀･*)",
  "这是一个似乎有点棘手的问题，我会尝试回答。(＾Ｕ＾)ノ~ＹＯ",
  "我能够理解你的问题，但是回答可能需要一些思考。(^_^;)",
  "这个问题很棒，但回答它可能需要更多时间。（＾ｖ＾）",
  "这似乎是一个很深奥的问题，需要我进一步的研究才能回答。（；＾＿＾）",
  "能否给我提供更多上下文或细节，以便我更好地了解您的需要？（＾＾）",
  "这是一个有趣的问题。能否提供更多信息以便我回答得更好？(☆ﾟ∀ﾟ)",
  "我不确定我是否完全理解了您的问题，能否再解释一下？(❁´◡`❁)",
  "这是一个非常复杂的问题，我需要更多时间来回答。（＞人＜；）",
  "这是一个值得思考的问题，我会尽力回答(๑>ᴗ<๑)",
  "这个问题非常有意思，但我需要一点时间来思考它。（＾ω＾）",
  "很高兴你问这个问题！让我想想。（＾Ｕ＾）ノ~ＹＯ",
  "这个问题可能有点棘手。需要我进一步思考一下。（。-＿-。）",
  "这个问题非常复杂，我需要更多上下文才能回答。(ﾟ´Д｀ﾟ)ﾟ",
  "这个问题看起来简单，但是回答可能需要更多时间。(゜-゜)",
  "我似乎不是很明白您的问题。能否再提供一些信息？(〃'▽'〃)",
  "这是一个很棒的问题，但回答可能有一些困难。(◕‿◕✿)",
  "可能需要更多上下文或细节才能更好地理解您的需求。(＾＾;)",
  "这是一个很深入的问题。我可能需要更多时间来考虑回答。(Ｔ＿Ｔ)",
  "这个问题真的棒极了！但是我需要更多时间想想。（＾－＾）",
  "我必须承认这是一个棘手的问题，但我会尽力回答。( ͡° ͜ʖ ͡°)",
  "这个问题似乎有点奇怪。可以再解释清楚吗？(；°ヮ°)",
  "这是一个非常棘手的问题。让我想一想。（￣～￣;）",
  "这个问题可能有点复杂。我需要一点时间思考。(*￣０￣)ノ",
  "这个问题可能需要更多上下文才能了解您的意思。(´･_･｀)ﾉ",
  "这是一个有趣的问题呢！如果您对以下书籍有兴趣，可以去看一看：《黑天鹅:如何应对不可预知的未来》和《思考，快与慢》。(•̀o•́)ง",
  "这个问题似乎有点复杂。如果您对此感到困惑，建议您阅读以太坊（Ethereum）和区块链是什么，或收听“创客重磅”或“斯坦福商学院的演讲”。(っ °Д °;)っ",
  "这确实是一个棘手的问题。不过，如果您正在寻找更多学习材料和工具，我可以向您推荐两个网站：Khan Academy和Codecademy。（＾∇＾）",
  "这是一个很棒的问题。如果您正在寻找一些有趣的活动，我可以向您推荐去当地的博物馆、图书馆或者音乐厅。(*^▽^*)",
  "这可能是一个有些复杂的问题。如果您正在寻找更多关于自然、环境和可持续发展的资源，我强烈建议您阅读《自然》杂志和其他与科学有关的出版物。（＾_＾）",
  "这是一个非常好的问题。如果您想了解更多有趣的信息，可以去搜索TED演讲和大会，他们的视频和文章非常值得一看！( ง ᵒ̌皿ᵒ̌)ง⁼³₌₃",
  "这似乎是一个很难解答的问题。不过如果你需要一些可以让你放松身心的电影，我推荐《肖申克的救赎》和《泰坦尼克号》。(*´꒳`*)੭",
  "这是一个非常有趣的问题！如果您正在寻找一些可以学习新技能的地方，我建议您去参加本地社区中心或大学的课程。（＾Ｕ＾）ノ~ＹＯ",
  "这是一个高级问题。如果您正在寻找更多未来技术的信息，我建议您阅读《连线》杂志和参加大型科技会议。（＾Ｏ＾☆♪",
  "这个问题可能需要更多细节来回答。如果您对音乐或艺术有兴趣，我建议您参观博物馆或音乐节，或者在本地的图书馆找一些有趣的书籍。（＾ω＾）",
  "这是一个很深层的问题。如果您正在寻找一些能够激发想象力和创造力的事物，我推荐《哈利·波特》和《霍比特人》系列电影。（✿◠‿◠）",
  "这是一个很好的问题。如果您正在寻找更多的自学资源，我建议您访问Coursera网站和其他在线教育平台。（＾ε＾）",
  "这个问题看起来非常复杂。如果您正在寻找更多的有趣历史和文化信息，可以去本地的博物馆和图书馆寻找一些关于世界各地历史和文化的书籍和资料(ﾉ^ヮ^)ﾉ*:・ﾟ✧",
];

const BOT_IMG = "https://wywdyx.github.io/Repository-Public/Image/BINBIN.jpg";
const PERSON_IMG = "https://wywdyx.github.io/Repository-Public/Image/People.svg";
const BOT_NAME = "Chat潇彬";
const PERSON_NAME = "你";

msgerForm.addEventListener("submit", event => {
  event.preventDefault();

  const msgText = msgerInput.value;
  if (!msgText) return;

  appendMessage(PERSON_NAME, PERSON_IMG, "right", msgText);
  msgerInput.value = "";

  botResponse();
});

function appendMessage(name, img, side, text) {
  const msgHTML = `
    <div class="msg ${side}-msg">
      <div class="msg-img" style="background-image: url(${img})"></div>

      <div class="msg-bubble">
        <div class="msg-info">
          <div class="msg-info-name">${name}</div>
          <div class="msg-info-time">${formatDate(new Date())}</div>
        </div>

        <div class="msg-text">${text}</div>
      </div>
    </div>
  `;

  msgerChat.insertAdjacentHTML("beforeend", msgHTML);
  msgerChat.scrollTop += 500;
}

function botResponse() {
  const r = random(0, BOT_MSGS.length - 1);
  const msgText = BOT_MSGS[r];
  const delay = msgText.split(" ").length * 100;

  setTimeout(() => {
    appendMessage(BOT_NAME, BOT_IMG, "left", msgText);
  }, delay);
}

function get(selector, root = document) {
  return root.querySelector(selector);
}

function formatDate(date) {
  const h = "0" + date.getHours();
  const m = "0" + date.getMinutes();

  return `${h.slice(-2)}:${m.slice(-2)}`;
}

function random(min, max) {
  return Math.floor(Math.random() * (max - min) + min);
}
